<html>

<head>
    <script type="text/javascript" src="wiky.js"></script>

    <script type="text/javascript">
        function parse(val) {
            var head = document.getElementsByTagName("head")[0],
                script;
            script = document.createElement("script");
            script.type = "text/x-mathjax-config";
            script[(window.opera ? "innerHTML" : "text")] =
                "MathJax.Hub.Config({\n" +
                "  tex2jax: { inlineMath: [['$','$'], ['\\\\(','\\\\)']] }\n" +
                "});"
            head.appendChild(script);
            script = document.createElement("script");
            script.type = "text/javascript";
            script.src = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
            head.appendChild(script);
            document.getElementById('content').innerHTML = "";
            document.getElementById('content').innerHTML = Wiky.toHtml(val);
            MathJax.Hub.Queue(["Typeset",MathJax.Hub]);
        }
    </script>

</head>

<body>
    <textarea id="input" cols="60" rows="10" style="margin-top:5px"></textarea>
    <div id="content"></div>

    <button onclick="parse(input.value)">
        Parse WikiText to HTML
    </button>

</body>

</html>

